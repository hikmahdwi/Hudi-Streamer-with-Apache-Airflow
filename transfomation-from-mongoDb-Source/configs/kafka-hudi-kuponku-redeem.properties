# Kafka Config
# hoodie.streamer.source.kafka.topic=Kconn-sys.lovvit-reedem-coupon-processor-DB.redeemcouponlogs
# hoodie.streamer.source.kafka.topic=Kconn-system.lovvit-reedem-coupon-processor-DB.redeemcouponlogs
hoodie.streamer.source.kafka.topic=test-2-redeem.lovvit-reedem-coupon-processor-DB.redeemcouponlogs
bootstrap.servers=kafka-landoop:9092
auto.offset.reset=earliest
# hoodie.streamer.source.kafka.value.format=json
# hoodie.streamer.source.kafka.value.schema.field=payload
hoodie.streamer.schemaprovider.source.schema.file=/opt/airflow/jobs/schemas/kuponku-redeem-sys-source.avsc
hoodie.streamer.schemaprovider.target.schema.file=/opt/airflow/jobs/schemas/kuponku-redeem-sys-target.avsc
# hoodie.streamer.source.kafka.consumer.value.deserializer=org.apache.kafka.common.serialization.ByteArrayDeserializer
# schema.registry.url=http://kafka-landoop:8081
# hoodie.streamer.schemaprovider.registry.url=http://kafka-landoop:8081/subjects/test-1-redeem.lovvit-reedem-coupon-processor-DB.redeemcouponlogs-value/versions/latest 
# hoodie.streamer.source.kafka.consumer.schema.registry.url=http://kafka-landoop:8081
# hoodie.streamer.source.kafka.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer
hoodie.streamer.checkpoint.key=kuponku_redeem_checkpoint

# Config untuk Hudi
hoodie.datasource.write.operation=upsert
hoodie.datasource.write.recordkey.field=oid
hoodie.datasource.write.partitionpath.field=ts_date
hoodie.datasource.write.precombine.field=ts_ms
# hoodie.datasource.write.ordering.field=after._id.$oid
hoodie.datasource.write.table.name=kuponku_redemption
hoodie.datasource.write.table.type=COPY_ON_WRITE

# hoodie.datasource.write.keygenerator.class=org.apache.hudi.keygen.ComplexKeyGenerator

# Hive Metastore Config
hoodie.datasource.hive_sync.enable=true
hoodie.datasource.hive_sync.database=default
hoodie.datasource.hive_sync.table=kuponku_redemption_meta
hoodie.datasource.hive_sync.partition_fields=ts_date
hoodie.datasource.hive_sync.mode=hms
# hoodie.datasource.hive_sync.partition_extractor_class=org.apache.hudi.hive.MultiPartKeysValueExtractor
hoodie.datasource.hive_sync.metastore.uris=thrift://hive-metastore:9083
hoodie.datasource.write.hive_style_partitioning=true
